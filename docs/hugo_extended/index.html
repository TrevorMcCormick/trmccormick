<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Buildspec for Hugo Extended on Amazon Linux 2 - trmccormick</title><meta name="description" content=""><meta property="og:title" content="Buildspec for Hugo Extended on Amazon Linux 2" />
<meta property="og:description" content="Are you frustrated that your Hugo website builds are not reflecting your local changes? If you&rsquo;re using scss files to manage your website styling, and the changes you make locally are not showing up on web server, then you might be facing challenges installing Hugo Extended.
Here are some common errors you might see in AWS CloudWatch:
1 2  hugo: /lib64/libm.so.6: version &#39;GLIBC_2.29&#39; not found (required by hugo) hugo: /lib64/libstdc&#43;&#43;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://trmccormick.com/hugo_extended/" /><meta property="og:image" content="https://trmccormick.com/hugo_extended/lakehouse.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-05T08:08:22-04:00" />
<meta property="article:modified_time" content="2021-09-05T08:08:22-04:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://trmccormick.com/hugo_extended/lakehouse.webp"/>
<meta name="twitter:title" content="Buildspec for Hugo Extended on Amazon Linux 2"/>
<meta name="twitter:description" content="Are you frustrated that your Hugo website builds are not reflecting your local changes? If you&rsquo;re using scss files to manage your website styling, and the changes you make locally are not showing up on web server, then you might be facing challenges installing Hugo Extended.
Here are some common errors you might see in AWS CloudWatch:
1 2  hugo: /lib64/libm.so.6: version &#39;GLIBC_2.29&#39; not found (required by hugo) hugo: /lib64/libstdc&#43;&#43;."/>
<meta name="application-name" content="trmccormick.com">
<meta name="apple-mobile-web-app-title" content="trmccormick.com"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="canonical" href="https://trmccormick.com/hugo_extended/" /><link rel="prev" href="https://trmccormick.com/aws_certified_solutions_architect_associate/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"></head><body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="trmccormick"><script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<lottie-player src="/cloud_blob.json" background="transparent"  speed="1"  style="width: 2.5em; height: 2.5em;" loop autoplay></lottie-player></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> üë®üèª‚Äçüíª </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="trmccormick"><script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<lottie-player src="/cloud_blob.json" background="transparent"  speed="1"  style="width: 2.5em; height: 2.5em;" loop autoplay></lottie-player></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">üë®üèª‚Äçüíª</a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="enable"><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/hugo_extended/lakehouse.webp"
        data-srcset="/hugo_extended/lakehouse.webp, /hugo_extended/lakehouse.webp 1.5x, /hugo_extended/lakehouse.webp 2x"
        data-sizes="auto"
        alt="/hugo_extended/lakehouse.webp"
        title="/hugo_extended/lakehouse.webp" /></div><div class="single-card" data-image="true"><h2 class="single-title animated flipInX">Buildspec for Hugo Extended on Amazon Linux 2</h2><div class="post-meta">
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-09-05">2021-09-05</time></span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>Contents</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
                </div><div class="content" id="content"><p>Are you frustrated that your Hugo website builds are not reflecting your local changes? If you&rsquo;re using <code>scss</code> files to manage your website styling, and the changes you make locally are not showing up on web server, then you might be facing challenges installing Hugo Extended.</p>
<p>Here are some common errors you might see in AWS CloudWatch:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">hugo: /lib64/libm.so.6: version <span class="s1">&#39;GLIBC_2.29&#39;</span> not found <span class="o">(</span>required by hugo<span class="o">)</span>
hugo: /lib64/libstdc++.so.6: version <span class="s1">&#39;GLIBCXX_3.4.26&#39;</span> not found <span class="o">(</span>required by hugo<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="nx">tpl</span><span class="o">/</span><span class="nx">internal</span><span class="o">/</span><span class="nx">go_templates</span><span class="o">/</span><span class="nx">texttemplate</span><span class="o">/</span><span class="nx">helper</span><span class="p">.</span><span class="k">go</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span> <span class="kn">package</span> <span class="nx">io</span><span class="o">/</span><span class="nx">fs</span> <span class="nx">is</span> <span class="nx">not</span> <span class="nx">in</span> <span class="nf">GOROOT</span> <span class="p">(</span><span class="o">/</span><span class="nx">root</span><span class="o">/</span><span class="p">.</span><span class="nx">goenv</span><span class="o">/</span><span class="nx">versions</span><span class="o">/</span><span class="mf">1.14.12</span><span class="o">/</span><span class="nx">src</span><span class="o">/</span><span class="nx">io</span><span class="o">/</span><span class="nx">fs</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>To resolve these errors, you need to do three things within your buildspec:</p>
<ol>
<li>Download a specific version of <code>Go</code> that will work with Hugo Extended</li>
<li>Adjust your web server environment variables to use a specific version of <code>Go</code></li>
<li>Using <code>Go</code> to install Hugo Extended</li>
</ol>
<p>Here is the buildspec I&rsquo;m using for my site, so feel free to copy the <code>install</code> commands for your own use.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">0.2</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">phases</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">install</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">commands</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">echo Entered the install phase...</span><span class="w">
</span><span class="w">      </span>- <span class="l">wget https://golang.org/dl/go1.16.7.linux-amd64.tar.gz</span><span class="w"> </span><span class="c">#installs Go 1.16.7</span><span class="w">
</span><span class="w">      </span>- <span class="l">tar -xzf go1.16.7.linux-amd64.tar.gz</span><span class="w"> </span><span class="c">#extracts gzipped archive file</span><span class="w">
</span><span class="w">      </span>- <span class="l">mv go /usr/local </span><span class="w"> </span><span class="c">#moves go to /usr/local</span><span class="w">
</span><span class="w">      </span>- <span class="l">export GOROOT=/usr/local/go</span><span class="w"> </span><span class="c">#adds go to env variable</span><span class="w">
</span><span class="w">      </span>- <span class="l">export PATH=$GOPATH/bin:$GOROOT/bin:$PATH </span><span class="w"> </span><span class="c">#adds go to path</span><span class="w">
</span><span class="w">      </span>- <span class="l">go version</span><span class="w"> </span><span class="c">#print version of go to console</span><span class="w">
</span><span class="w">      </span>- <span class="l">yum install asciidoctor -y</span><span class="w"> </span><span class="c">#my hugo template needs asciidoctor</span><span class="w">
</span><span class="w">      </span>- <span class="l">mkdir $HOME/src</span><span class="w"> </span><span class="c">#make new src dir</span><span class="w">
</span><span class="w">      </span>- <span class="l">cd $HOME/src</span><span class="w"> </span><span class="c">#go to src dir</span><span class="w">
</span><span class="w">      </span>- <span class="l">git clone https://github.com/gohugoio/hugo.git</span><span class="w"> </span><span class="c">#clone hugo</span><span class="w">
</span><span class="w">      </span>- <span class="l">cd hugo</span><span class="w"> </span><span class="c">#go to hugo dir</span><span class="w">
</span><span class="w">      </span>- <span class="l">go install --tags extended</span><span class="w"> </span><span class="c">#use go to install extended hugo</span><span class="w">
</span><span class="w">    </span><span class="nt">finally</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">echo Installation done</span><span class="w">
</span><span class="w">  </span><span class="nt">build</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">commands</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">echo Building...</span><span class="w">
</span><span class="w">      </span>- <span class="l">echo Build started on `date`</span><span class="w">
</span><span class="w">      </span>- <span class="l">cd $CODEBUILD_SRC_DIR</span><span class="w">
</span><span class="w">      </span>- <span class="l">hugo --quiet</span><span class="w">
</span><span class="w">      </span>- <span class="l">aws s3 sync --delete docs/ s3://trmccormick.com</span><span class="w">
</span><span class="w">      </span>- <span class="l">aws cloudfront create-invalidation --distribution-id **** --paths &#39;/*&#39;</span><span class="w">
</span><span class="w">    </span><span class="nt">finally</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">echo Build finished</span><span class="w">
</span><span class="w"></span><span class="nt">artifacts</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">files</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="s1">&#39;**/*&#39;</span><span class="w">
</span><span class="w">  </span><span class="nt">base-directory</span><span class="p">:</span><span class="w"> </span><span class="l">$CODEBUILD_SRC_DIR/docs</span><span class="w">
</span><span class="w">  </span><span class="nt">discard-paths</span><span class="p">:</span><span class="w"> </span><span class="kc">no</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/aws.-hugo/">AWS. Hugo</a>
                </span></div><div class="post-info-line"><div class="post-info-mod"></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://trmccormick.com/hugo_extended/" data-title="Buildspec for Hugo Extended on Amazon Linux 2" data-hashtags="AWS. Hugo"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://trmccormick.com/hugo_extended/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://trmccormick.com/hugo_extended/"><i class="fab fa-reddit fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/aws_certified_solutions_architect_associate/" class="prev" rel="prev" title="Preparing for the AWS Certified Solutions Architect Associate Exam"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a></div></div>
</div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">
        </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/about/">Trevor McCormick</a></span></div>
</div>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a></div><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.0/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.1/sharer.min.js"></script><script>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":50,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body></html>
